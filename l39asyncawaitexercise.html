<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>Async and Await Exercise</title>
    <style>

    </style>
</head>
<body>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>

    <script type="text/javascript">

      const url = `https://randomuser.me/api/`;

      fetch(url)
        .then(response=>response.json())
        .then(data=>{
            console.log(data);
        }).catch(err=>console.log(err));

        

        //=>Asynchronous (async & await)

        //Method1

        async function getusers(){
            await fetch(url)
                .then(response=>response.json())
                .then(data=>{
                    console.log(data);
                }).catch(err=>console.log(err));
        }

        getusers();
        console.log('hi');


        //Method 2
        async function getmembers(){

            //await response for the fetch call (step 1 = request)
            const response = await fetch(url);

            //proceed if resolved (step 2 = Promise)
            const data = await response.json();
            
            return data;
        }

        //Step 3 => Get Response
        getmembers().then(response=>console.log(response));

        console.log('hello');
        


    </script>
    
</body>
</html>
